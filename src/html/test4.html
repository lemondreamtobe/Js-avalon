<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../js/lib/avalon.js"></script>

</head>
<body>
    <script>
        var vm = avalon.define({
            $id: "box",
            $skipArray : [{'w' : 200}],
            $w: 100,
            h: 100,
            click: function() {
                vm.w = parseFloat(vm.w) + 10;
                vm.h = parseFloat(vm.h) + 10;
            },
            change : function (b) {
                console.log(b)
            },
            firstName : '',
            lastName : '',
            className : 'a b c',
            complex: { //一个包含set或get的对象会被当成PropertyDescriptor，
                set: function(val) { //里面必须用this指向scope，不能使用scope
                    var array = (val || "").split(" ");
                    this.firstName = array[0] || "";
                    this.lastName = array[1] || "";
                },
                get: function() {
                    return this.firstName + " " + this.lastName;
                }
            },
        });
        vm.$w = 200;
        avalon.vmodels.box.complex = 'zhang lin feng'
        console.log(avalon.vmodels.box.complex); //avalon.vmodels.box === vm
    </script>
    <div ms-controller="box">
        <div style="background: #a9ea00;" ms-click="@click" ms-class="@className">
            click me!
        </div>
        <p ms-css="{width: @$w, height: @h}">{{$w}} x {{ @h }}</p> <!--ms-css使用对象-->
        <p>W: <input type="text" ms-duplex="@$w" data-duplex-event="@change"/></p>
        <p>H: <input type="text" ms-duplex="@h" /></p>
    </div>
</body>
</html>